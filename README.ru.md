# üé¨ Filmography ‚Äî —É—á–µ–±–Ω–æ–µ –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Spring Boot, PostgreSQL, JWT, Thymeleaf)

[![Java](https://img.shields.io/badge/Java-17%2B-orange)](https://adoptium.net)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-2.7.x-6DB33F)](https://spring.io/projects/spring-boot)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13%2B-336791)](https://www.postgresql.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

> **–ö–æ—Ä–æ—Ç–∫–æ:** –Ω–µ–±–æ–ª—å—à–∞—è ¬´—Ñ–∏–ª—å–º–æ—Ç–µ–∫–∞¬ª —Å –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ ‚Äî MVC-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Thymeleaf –∏ REST API —Å JWT.  
> CRUD –¥–ª—è —Ñ–∏–ª—å–º–æ–≤ –∏ —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤, –ø–æ–∏—Å–∫/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ ¬´–∞—Ä–µ–Ω–¥—ã¬ª —Ñ–∏–ª—å–º–æ–≤.

---

## üîé –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [REST API ‚Äî –ø—Ä–∏–º–µ—Ä—ã](#-rest-api--–ø—Ä–∏–º–µ—Ä—ã)
- [–°–∫—Ä–∏–Ω—à–æ—Ç—ã](#-—Å–∫—Ä–∏–Ω—à–æ—Ç—ã)
- [–ü–ª–∞–Ω—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è](#-–ø–ª–∞–Ω—ã-–∏-—É–ª—É—á—à–µ–Ω–∏—è)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–§–∏–ª—å–º—ã**: —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ, –ø–æ–∏—Å–∫ –ø–æ `title`, `country`, `genre`.
- **–†–µ–∂–∏—Å—Å—ë—Ä—ã**: —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ, —Å–≤—è–∑—å —Å —Ñ–∏–ª—å–º–∞–º–∏ (**Many‚Äëto‚ÄëMany**).
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É (–¥–ª—è MVC).
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è REST**: `JWT` (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞, –¥–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º).
- **–ê—Ä–µ–Ω–¥–∞**: –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä ¬´–∑–∞–∫–∞–∑–æ–≤¬ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**: OpenAPI/Swagger UI.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Java 17+**, **Spring Boot 2.7.x** (Web, Validation, Security)
- **Spring Data JPA (Hibernate)**
- **PostgreSQL** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ ‚Äî `docker-compose.yml` –≤ –∫–æ—Ä–Ω–µ)
- **Thymeleaf** + layout dialect + extras Spring Security
- **JWT (io.jsonwebtoken)** –¥–ª—è REST-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **ModelMapper**, **Lombok**
- **springdoc-openapi-ui** ‚Äî Swagger UI

> –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–º. –≤ `pom.xml`.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–°–ª–æ–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **model** ‚Äî —Å—É—â–Ω–æ—Å—Ç–∏: `Film`, `Director`, `User`, `Role`, `Order`, –±–∞–∑–æ–≤—ã–π `GenericModel` (–ø–æ–ª—è –∞—É–¥–∏—Ç–∞/soft-delete).
- **dto** –∏ **mapper** ‚Äî –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –∏ –º–∞–ø–ø–∏–Ω–≥ (ModelMapper).
- **repository** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `JpaRepository`.
- **service** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫.
- **rest/controller** ‚Äî REST-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (`/rest/**`), —á–∞—Å—Ç—å CRUD —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∞ –æ—Ç `GenericController`.
- **MVC/controller** + `templates/` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ñ–æ—Ä–º—ã –Ω–∞ Thymeleaf.
- **security** ‚Äî –¥–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: MVC (form login) –∏ REST (JWT).

**–°–≤—è–∑–∏ –¥–æ–º–µ–Ω–∞:**
- `Film` ‚Üî `Director` ‚Äî Many‚Äëto‚ÄëMany (join-—Ç–∞–±–ª–∏—Ü–∞).
- `User` ‚Üî `Role` ‚Äî –º–Ω–æ–≥–∏–µ‚Äë–∫‚Äë–æ–¥–Ω–æ–º—É.
- `Order` ‚Äî —Å–≤—è–∑—ã–≤–∞–µ—Ç `User` –∏ `Film` —Å –¥–∞—Ç–æ–π –∏ –ø–µ—Ä–∏–æ–¥–æ–º.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ª–æ–∫–∞–ª—å–Ω–æ (JDK + Maven)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **JDK 17+**.
2. –ü–æ–¥–Ω–∏–º–∏—Ç–µ PostgreSQL (–≤–∞—Ä–∏–∞–Ω—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è):
   ```bash
   docker-compose up -d postgres
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ `src/main/resources/application.properties` (—Å–º. –ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ).
4. –ó–∞–ø—É—Å–∫:
   ```bash
   ./mvnw spring-boot:run
   # –∏–ª–∏
   ./mvnw clean package && java -jar target/filmography-0.0.1-SNAPSHOT.jar
   ```
5. –û—Ç–∫—Ä–æ–π—Ç–µ:
   - Web UI: `http://localhost:8080/`
   - Swagger UI: `http://localhost:8080/swagger-ui/index.html`

### –í–∞—Ä–∏–∞–Ω—Ç 2: —Ç–æ–ª—å–∫–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `application.properties` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `application.properties.example` –∫–∞–∫ –æ—Å–Ω–æ–≤—É).  
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ `spring-boot:run` –∏ –∑–∞–π–¥–∏—Ç–µ –Ω–∞ `/` ‚Äî –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–∞—è –≥–ª–∞–≤–Ω–∞—è –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ–∏–ª—å–º–æ–≤/—Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

`src/main/resources/application.properties` (–ø—Ä–∏–º–µ—Ä):
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/db_filmography
spring.datasource.username=postgres
spring.datasource.password=12345

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

server.port=8080
```

> **–í–∞–∂–Ω–æ:** —Ñ–∞–π–ª `application.properties` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ª–µ–∂–∏—Ç —à–∞–±–ª–æ–Ω `application.properties.example` ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ.

---

## üß™ REST API ‚Äî –ø—Ä–∏–º–µ—Ä—ã

**–ü–æ–ª—É—á–∏—Ç—å JWT:**
```http
POST /rest/user/auth
Content-Type: application/json

{"login":"user","password":"password"}
```

**–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤:**
```http
GET /rest/film?title=ring&country=USA&genre=DRAMA
Authorization: Bearer <JWT>
```

**–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏—Å—Å—ë—Ä–∞:**
```http
POST /rest/director/add-director
Content-Type: application/json
Authorization: Bearer <JWT>

{"directorFIO":"John Smith","position":"Producer"}
```

**–ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```http
GET /rest/order/user-orders/{userId}
Authorization: Bearer <JWT>
```

> –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Swagger UI.

---

## üñº –°–∫—Ä–∏–Ω—à–æ—Ç—ã
–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `docs/` –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ü—Ä–∏–º–µ—Ä –≤–∫–ª—é—á–µ–Ω–∏—è –≤ README:
```markdown
![–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤](docs/films-list.png)
![–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è](docs/film-add-form.png)
```

---

## üìå –ü–ª–∞–Ω—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (**Flyway/Liquibase**) –≤–º–µ—Å—Ç–æ `ddl-auto`.
- –Ø–≤–Ω–æ —Ä–∞–∑–≤–µ—Å—Ç–∏/—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è MVC –∏ REST.
- –†–∞—Å—à–∏—Ä–∏—Ç—å **Bean Validation** –Ω–∞ —É—Ä–æ–≤–Ω–µ DTO.
- –î–æ–±–∞–≤–∏—Ç—å **unit** –∏ **–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** (Spring Boot Test).
- –í—ã–Ω–µ—Å—Ç–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.
- –î–æ–±–∞–≤–∏—Ç—å **Dockerfile** –∏ —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `docker-compose.yml`.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ **MIT** ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

---

> üß† *–ü—Ä–æ–µ–∫—Ç —É—á–µ–±–Ω—ã–π; —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –ø–æ —à–∞–≥–∞–º –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞. –ö–æ–¥ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.*
